# Онлайн платформа торговой сети электроники
Веб-приложение с API интерфейсом и админ-панелью.

## Описание проекта
Сеть представляет собой иерархическую структуру из 3-х уровней (Завод, Розничная сеть, Индивидуальный предприниматель).
Каждое звено сети ссылается только на одного поставщика оборудования.
Есть возможность указать несколько товаров для одного узла торговой сети. Также для каждого узла можно указать несколько адресов (несколько заводов производителя, несколько магазинов рогзничной сети итп)

Настроены права доступа к API так, чтобы только активные пользователи имели доступ к API.

### Набор представлений
В представлении узлов торговой цепи отображается вложенный список товаров этого узла и список адресов.
Добавлена возможность фильтрации объектов по определенной стране

### Валидация
Завод - не имеет возможности ссылаться на поставщика.
Завод - не имеет возможности указывать задолженность перед поставщиком.
Для модели поставщика исключена возможность редактирования средствами API параметра "Задолженность перед поставщиком", при этом, при создании узла, можно определить значение этого параметра. 

### Админ-панель
Настроено отображение моделей "Торговые звенья сети", "Продукты", "Контакты", "Пользователи"

#### В модели Звеньев торговой сети:
- Добавлена ссылка на "Поставщика"
- Добавлен фильтр по названию города
- Добавлено "Действие в админ-панели", удаляющее задолженность перед поставщиком у выбранных объектов


## Требования для работы программы
- Сервер PostgreSQL (локальный или удаленный) с имеющейся на нем, установленной по умолчанию, базой данных postgres
- Отредактированный файл example.env, находящийся в корневой директории проекта, согласно параметрам доступа к
имеющемуся серверу PostgreSQL, а также другим настройкам. Затем этот файл необходимо переименовать в .env
- Установленные зависимости, указанные в файле pyproject.toml командой ***poetry install***
- Необходимо действия:
  - создать на сервере PostgreSQL пустую базу данных с именем, указанном в файле .env (POSTGRES_DB)
  - применить к этой БД миграции из проекта командой python manage.py migrate
  - создать superuser'а командой ***python manage.py create_super_user [email] [password]***
  - заполнить БД тестовыми данными из файлов main_data.json и promo_data.json командами
    - ***python manage.py loaddata main_data.json***
    
## Работа с программой
Для работы с программой достаточно установленной программы Postman. Ее бесплатную версию можно загрузить по адресу https://www.postman.com/downloads/

В папке /postman/ этого проекта находятся коллекции API запросов для программы Postman. Их нужно установить в нее через пункт меню "File -> Import" 
